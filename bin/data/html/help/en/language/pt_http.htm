<html>
<head>
<title>MIDletPascal 3.0 Documentation</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style type="text/css">
<!--
body,td,th {
	font-family: Arial, Helvetica, sans-serif;
	font-size: 12px;
	color: #333399;
}
body {
	background-color: #FFFFFF;
}
a:link {
	color: #333399;
}
a:visited {
	color: #333399;
}
a:hover {
	color: #666666;
}
a:active {
	color: #333399;
}
-->
</style></head>

<body>
<p><font size=+2>

Http type

</font></p>
<table width="100%"  border="0">
  <tr>
    <td height="3" bgcolor="#EEEE00"></td>
  </tr>
</table><br>

<p>MIDletPascal provides basic HTTP connectivity. Http connections are identified by their identifier variables which must be declared to be of 'http' type. The HTTP connection lifecycle is as follows:</p>
<ul>
	<li>open a connection to a remote web server
	<li>set the http request method
	<li>add the request header fields (optional)
	<li>add the data to the body of http request (only if the method is POST)
	<li>send a request and wait for response from the server
	<li>read desired header fields form the response
	<li>read the response data
	<li>close the connection
</ul>

<p>The following example illustrates simple use of http connectivity:</p>
<pre>
  var conn: http;
      htmlBody: string;
      contentType: string;
  begin
    if not openHttp(conn, 'http://www.google.com') then halt;
    setHttpMethod(conn, GET);
    addHttpHeader(conn, 'User-agent', 'MIDletPascal browser');
    if sendHttpMessage(conn) &lt;&gt; 200 then halt;
    htmlBody := getHttpResponse(conn);
    contentType := getHttpHeader(conn, 'Content-type');
    closeHttp(conn);
  end.
</pre>

<p><b>The internal emulator does not support Http connections. Sun's Wireless Toolkit emulator is recommended for off-phone http testing!</b></p>

</body>
</html>
